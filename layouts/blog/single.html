{{ define "meta_tags" }}
<meta property="og:title" content="{{site.Title}}{{if not .IsHome}} | {{.Title}}{{end}}" />
{{ partial "seo/print.html" . }}

{{- with .Site.Params.facebookAppId }}
<meta property="fb:app_id" content="{{ . }}" />
{{- end }}
<meta name="twitter:title" content="{{ .Title }}">

{{ end }}
{{ define "main" }}
<div class="mx-auto my-10 max-w-4xl px-4 sm:px-6 lg:px-8">
  <article class="bg-white p-6 md:p-10 border border-tlgray-200">
    <header class="mb-8 text-center md:text-left">
        {{ if .Params.image }}
        <div class="rounded-xl overflow-hidden mb-8 aspect-video w-full shadow-md">
            <img src="{{ .Params.image | absURL }}" alt="{{ .Title }}" class="w-full h-full object-cover">
        </div>
        {{ end }}
        <h1 class="text-3xl md:text-5xl font-extrabold text-tlgray-800 mb-6 leading-tight">{{.Title}}</h1>

        <div class="flex flex-wrap items-center justify-center md:justify-start text-sm text-tlgray-500 gap-6 mb-6 border-b border-tlgray-200 pb-6">
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="mr-2" viewBox="0 0 16 16">
                    <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"/>
                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"/>
                </svg>
                <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "2006/01/02" }}</time>
            </div>

            {{ if .Params.author }}
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="mr-2" viewBox="0 0 16 16">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                </svg>
                <span>{{.Params.author}}</span>
            </div>
            {{ end }}

            {{ with .Params.categories }}
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="mr-2" viewBox="0 0 16 16">
                    <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a2 2 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3m-8.322.12q.322-.119.684-.12h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981z"/>
                </svg>
                <div class="flex gap-2">
                {{ range . }}
                <a href='{{ "categories" | absURL}}/{{ . | urlize }}' class="hover:text-blue-600 transition-colors">{{ . }}</a>
                {{ end }}
                </div>
            </div>
            {{ end }}
        </div>
    </header>

    <div class="content prose prose-lg max-w-none text-tlgray-700 leading-relaxed mx-auto mb-12">
        {{.Content}}
    </div>

    <!-- Share Buttons -->
    <div class="border-t border-tlgray-200 pt-8 pb-8">
        <h5 class="text-center text-sm font-semibold text-gray-500 uppercase tracking-wider mb-6">Share this post</h5>
        <div class="flex flex-wrap justify-center gap-4">
            <a href="https://twitter.com/intent/tweet?url={{ .Permalink }}&text={{ .Title }}" target="_blank"
                class="flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-all shadow-sm hover:shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
                </svg>
                <span class="font-medium">X</span>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink }}&t={{ .Title }}" target="_blank"
                class="flex items-center gap-2 px-6 py-3 bg-[#1877F2] text-white hover:bg-[#166fe5] transition-all shadow-sm hover:shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"/>
                </svg>
                <span class="font-medium">Facebook</span>
            </a>
            <a href="https://timeline.line.me/social-plugin/share?url={{ .Permalink }}"
                class="flex items-center gap-2 px-6 py-3 bg-[#06C755] text-white hover:bg-[#05b34c] transition-all shadow-sm hover:shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 0c4.411 0 8 2.912 8 6.492 0 1.433-.555 2.723-1.715 3.994-1.678 1.932-5.431 4.285-6.285 4.645-.83.35-.734-.197-.696-.413l.003-.018.114-.685c.027-.204.055-.521-.026-.723-.09-.223-.444-.339-.704-.395C2.846 12.39 0 9.701 0 6.492 0 2.912 3.59 0 8 0M5.022 7.686H3.497V4.918a.156.156 0 0 0-.155-.156H2.78a.156.156 0 0 0-.156.156v3.486c0 .041.017.08.044.107v.001l.002.002.002.002a.15.15 0 0 0 .108.043h2.242c.086 0 .155-.07.155-.156v-.56a.156.156 0 0 0-.155-.157m.791-2.924a.156.156 0 0 0-.156.156v3.486c0 .086.07.155.156.155h.562c.086 0 .155-.07.155-.155V4.918a.156.156 0 0 0-.155-.156zm3.863 0a.156.156 0 0 0-.156.156v2.07L7.923 4.832l-.013-.015v-.001l-.01-.01-.003-.003-.011-.009h-.001L7.88 4.79l-.003-.002-.005-.003-.008-.005h-.002l-.003-.002-.01-.004-.004-.002-.01-.003h-.002l-.003-.001-.009-.002h-.006l-.003-.001h-.004l-.002-.001h-.574a.156.156 0 0 0-.156.155v3.486c0 .086.07.155.156.155h.56c.087 0 .157-.07.157-.155v-2.07l1.6 2.16a.2.2 0 0 0 .039.038l.001.001.01.006.004.002.008.004.007.003.005.002.01.003h.003a.2.2 0 0 0 .04.006h.56c.087 0 .157-.07.157-.155V4.918a.156.156 0 0 0-.156-.156zm3.815.717v-.56a.156.156 0 0 0-.155-.157h-2.242a.16.16 0 0 0-.108.044h-.001l-.001.002-.002.003a.16.16 0 0 0-.044.107v3.486c0 .041.017.08.044.107l.002.003.002.002a.16.16 0 0 0 .108.043h2.242c.086 0 .155-.07.155-.156v-.56a.156.156 0 0 0-.155-.157H11.81v-.589h1.525c.086 0 .155-.07.155-.156v-.56a.156.156 0 0 0-.155-.157H11.81v-.589h1.525c.086 0 .155-.07.155-.156Z"/>
                </svg>
                <span class="font-medium">LINE</span>
            </a>
            <button onclick="OnClickURL();" id="url" data-clipboard-text="{{ .Title }} {{ .Permalink }}"
                class="flex items-center gap-2 px-6 py-3 bg-gray-700 text-white hover:bg-gray-600 transition-all shadow-sm hover:shadow-md cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
                    <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
                </svg>
                <span class="font-medium">Copy</span>
            </button>
        </div>
    </div>

    {{ partial "comments.html" . }}

    <!-- Navigation -->
    <nav class="mt-12 w-full grid grid-cols-1 md:grid-cols-2 gap-6">
        {{ with .PrevInSection }}
        <a href="{{ .Permalink }}" class="group block p-6 border border-tlgray-200 transition-all text-left">
            <span class="text-sm text-gray-500 font-medium mb-2 block group-hover:text-blue-600">Previous</span>
            <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0 text-gray-400 group-hover:text-blue-600 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                <span class="text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors line-clamp-2">{{ .Title }}</span>
            </div>
        </a>
        {{ else }}
        <div></div>
        {{ end }}

        {{ with .NextInSection }}
        <a href="{{ .Permalink }}" class="group block p-6 border border-tlgray-200 transition-all text-right">
            <span class="text-sm text-gray-500 font-medium mb-2 block group-hover:text-blue-600">Next</span>
            <div class="flex items-center justify-end gap-3">
                <span class="text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors line-clamp-2">{{ .Title }}</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0 text-gray-400 group-hover:text-blue-600 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </div>
        </a>
        {{ end }}
    </nav>

  </article>
</div>
{{ end }}
